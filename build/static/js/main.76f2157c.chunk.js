(this["webpackJsonpwyzetalk-assessment"]=this["webpackJsonpwyzetalk-assessment"]||[]).push([[0],{38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(16),r=a.n(s),i=a(13),o=a(9),l=(a(38),a(24)),j=a(25),u=a(30),b=a(29),d=a(4),O=(a(39),a(18)),h=(a(40),a(1)),p=Object(O.a)({}),f=Object(o.b)(p)((function(){return Object(h.jsx)("div",{className:"head"})})),S=a(20),m=a.n(S),x=a(26),v=a(11),E=a(3),_={loading:!1,artists:[],errorMessage:null},g=function(e,t){switch(t.type){case"SEARCH_ARTISTS_REQUEST":return Object(E.a)(Object(E.a)({},e),{},{loading:!0,errorMessage:null});case"SEARCH_ARTISTS_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{loading:!1,artists:t.payload});case"SEARCH_ARTISTS_FAILURE":return Object(E.a)(Object(E.a)({},e),{},{loading:!1,errorMessage:t.error});default:return e}},A=(a(43),function(e){var t=Object(n.useState)(""),a=Object(v.a)(t,2),c=a[0],s=a[1];return Object(h.jsxs)("form",{onSubmit:function(e){},children:[Object(h.jsx)("input",{className:"search",value:c,placeholder:"Search Artist",onChange:function(e){s(e.target.value)},type:"text"}),Object(h.jsx)("input",{className:"searchButton",onClick:function(t){t.preventDefault(),e.search(c),s("")},type:"submit",value:"SEARCH"})]})}),y=a(12),R=(a(44),["children","isGoogleSignIn","inverted"]),C=function(e){var t=e.children,a=e.isGoogleSignIn,n=e.inverted,c=Object(y.a)(e,R);return Object(h.jsx)("button",Object(E.a)(Object(E.a)({className:"".concat(n?"inverted":""," ").concat(a?"google-sign-in":""," custom-button")},c),{},{children:t}))},N=(a(45),Object(o.b)(null,(function(e){return{}}))((function(e){var t=Object(d.f)(),a=e.name,n=e.type,c=e.picture_big,s=e.nb_fan,r=e.release_date;return Object(h.jsxs)("div",{className:"collection-item",children:[Object(h.jsx)("div",{className:"image",style:{backgroundImage:"url(".concat(c,")")}}),Object(h.jsxs)("div",{className:"collection-footer row",children:[Object(h.jsx)("span",{className:"name",children:a}),Object(h.jsxs)("span",{className:"fans",children:["Fans: ",s]}),"album"===n?Object(h.jsxs)("span",{className:"fans",children:["Released: ",r]}):""]}),Object(h.jsx)(C,{onClick:function(){t.push("/artist",e)},inverted:!0,children:" View Artist "})]})}))),L=(a(47),["id"]),T=function(e){return Object(h.jsx)("div",{className:"collection-preview",children:Object(h.jsx)("div",{className:"preview",children:e.data.map((function(e){var t=e.id,a=Object(y.a)(e,L);return Object(h.jsx)(N,Object(E.a)({},a),t)}))})})},U=(a(48),function(){var e=Object(n.useReducer)(g,_),t=Object(v.a)(e,2),a=t[0],c=t[1],s=Object(d.f)();Object(n.useEffect)((function(){fetch("/search/artist?q=").then((function(e){return e.json()})).then((function(e){c({type:"SEARCH_MOVIES_SUCCESS",payload:e.data})}))}),[]);var r=function(){var e=Object(x.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c({type:"SEARCH_ARTISTS_REQUEST"}),fetch("/search/artist?q=".concat(t)).then((function(e){return e.json()})).then((function(e){e.data?c({type:"SEARCH_ARTISTS_SUCCESS",payload:e.data}):c({type:"SEARCH_ARTISTS_FAILURE",error:e.Error}),"/artist"===s.location.pathname&&(a.artists=e.data,s.push({pathname:"/"}))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=a.artists,o=a.errorMessage;return!0===a.loading&&o?Object(h.jsx)("div",{children:Object(h.jsx)("text",{children:"Loading..."})}):Object(h.jsx)("div",{className:"shop-page",children:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(A,{search:r}),Object(h.jsx)(T,{data:i})]})})}),I=(a(49),function(){return Object(h.jsx)("div",{className:"homepage",children:Object(h.jsx)(U,{})})}),H={loading:!1,albums:[],playlist:[],errorMessage:null},M=function(e,t){switch(t.type){case"SEARCH_ALBUMS_REQUEST":case"SEARCH_PLAYLIST_REQUEST":return Object(E.a)(Object(E.a)({},e),{},{loading:!0,errorMessage:null});case"SEARCH_ALBUMS_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{loading:!1,albums:t.payload});case"SEARCH_ALBUMS_FAILURE":case"SEARCH_PLAYLIST_FAILURE":return Object(E.a)(Object(E.a)({},e),{},{loading:!1,errorMessage:t.error});case"SEARCH_PLAYLIST_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{loading:!1,playlist:t.payload});default:return e}},w=(a(50),["id"]),k=function(e){return Object(h.jsx)("div",{className:"collection-pr",children:Object(h.jsx)("div",{className:"preview",children:e.data.map((function(e){var t=e.id,a=Object(y.a)(e,w);return Object(h.jsx)(N,Object(E.a)({},a),t)}))})})},F=(a(51),function(e){var t=Object(n.useReducer)(M,H),a=Object(v.a)(t,2),c=a[0],s=a[1],r=e.location.state;Object(n.useEffect)((function(){s({type:"SEARCH_ALBUMS_REQUEST"}),fetch("/search/album?q=".concat(r.name)).then((function(e){return e.json()})).then((function(e){e.data?s({type:"SEARCH_ALBUMS_SUCCESS",payload:e.data}):s({type:"SEARCH_ALBUMS_FAILURE",error:e.Error})})),i()}),[]);var i=function(){s({type:"SEARCH_PLAYLIST_REQUEST"}),fetch("".concat(r.tracklist.substring(22,r.tracklist.length))).then((function(e){return e.json()})).then((function(e){e.data?s({type:"SEARCH_PLAYLIST_SUCCESS",payload:e.data}):s({type:"SEARCH_PLAYLIST_FAILURE",error:e.Error})}))},o=c.albums,l=c.errorMessage,j=c.loading,u=c.playlist,b=o.map((function(e,t){return{artist:e.artist,name:e.title,picture:e.cover,picture_big:e.cover_big,type:e.type,nb_fan:e.nb_fan,nb_album:e.nb_album}}));return!0===j&&l?Object(h.jsx)("div",{children:Object(h.jsx)("text",{children:"Loading..."})}):Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"artists_homepage",children:Object(h.jsx)(U,{})}),Object(h.jsx)("div",{className:"collection-pr",children:Object(h.jsx)("div",{className:"preview",children:Object(h.jsxs)("div",{className:"artist-item",children:[Object(h.jsx)("div",{className:"image",style:{backgroundImage:"url(".concat(r.picture_big,")")}}),Object(h.jsxs)("div",{className:"artist-footer",children:[Object(h.jsx)("span",{className:"name",children:r.name}),"undefined"===typeof r.nb_fan?"":Object(h.jsxs)("span",{className:"fans",children:[" Fans: ",r.nb_fan]})]}),Object(h.jsx)("div",{className:"artist-playlist",children:Object(h.jsxs)("div",{className:"playlist",children:[Object(h.jsx)("span",{className:"playlist",children:"Top Tracks:"}),u.filter((function(e,t){return t<5})).map((function(e,t){return Object(h.jsxs)("div",{className:"tracklist row",children:[Object(h.jsxs)("div",{className:"tracklist-title",children:[" ",t+1," : ",e.title]}),Object(h.jsxs)("div",{className:"duration",children:[Math.floor(e.duration/60),":",e.duration-60*Math.floor(e.duration/60)]})]},t)}))]})})]})})}),Object(h.jsx)(k,{data:b})]})}),B=function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return Object(h.jsxs)("div",{style:{width:"100%"},children:[Object(h.jsx)(f,{}),Object(h.jsxs)(d.c,{children:[Object(h.jsx)(d.a,{exact:!0,path:"/",component:I}),Object(h.jsx)(d.a,{path:"/artist",component:F})]})]})}}]),a}(c.a.Component),P=Object(O.a)({}),Q=Object(o.b)(P,(function(e){return{}}))(B),Y=a(15),q=a(28),z=a.n(q),G=Object(Y.b)({}),J=[z.a],V=Object(Y.c)(G,Y.a.apply(void 0,J));r.a.render(Object(h.jsx)(o.a,{store:V,children:Object(h.jsx)(i.a,{children:Object(h.jsx)(Q,{})})}),document.getElementById("container-root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.76f2157c.chunk.js.map